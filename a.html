<section class="secao secao-carrossel" data-aos="fade-up">
  <h2>Experimente diferentes enquadramentos</h2>
  <p>Escolha como cada manchete poderia ser enquadrada e observe os efeitos simbólicos.</p>

  <div class="carrossel-container">
    <!-- Manchetes -->
    <div class="manchete-card">
      <p class="manchete-texto" id="manchete-texto"></p>

      <div class="botoes-enquadramento">
        <button data-enquadramento="neutra">Neutra</button>
        <button data-enquadramento="ambigua">Ambígua</button>
        <button data-enquadramento="estigmatizante">Estigmatizante</button>
        <button data-enquadramento="desumanizacao">Desumanizante</button>
      </div>

      <div class="explicacao-enquadramento" id="explicacao-enquadramento">
        <p>Escolha um enquadramento para ver como a narrativa muda.</p>
      </div>
    </div>

    <!-- Navegação do carrossel -->
    <div class="carrossel-navegacao">
      <button id="prev">Anterior</button>
      <span id="indicador">1 / 3</span>
      <button id="next">Próximo</button>
    </div>
  </div>
</section>

<style>
:root {
  --branco-quente: #f5f5f5;
  --preto-profundo: #0b120e;
  --verde-oliva: #0f1a13;
  --verde-palestina: #007a3d;
}

.secao-carrossel {
  max-width: 900px;
  margin: 3rem auto;
  padding: 2rem;
  background: var(--branco-quente);
  border-radius: 14px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.manchete-texto {
  font-size: 1.2rem;
  font-weight: 500;
  margin-bottom: 1.5rem;
  color: var(--preto-profundo);
}

.botoes-enquadramento button {
  margin-right: 1rem;
  margin-bottom: 1rem;
  padding: 0.7rem 1.3rem;
  border-radius: 10px;
  border: 2px solid var(--verde-oliva);
  background: transparent;
  cursor: pointer;
  transition: 0.25s all;
}

.botoes-enquadramento button:hover {
  background: var(--verde-palestina);
  color: var(--branco-quente);
  transform: scale(1.05);
}

.botoes-enquadramento button.selecionado {
  background: var(--verde-oliva);
  color: var(--branco-quente);
}

.explicacao-enquadramento {
  margin-top: 1.5rem;
  font-size: 1rem;
  color: var(--preto-profundo);
}

.carrossel-navegacao {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 2rem;
}

.carrossel-navegacao button {
  padding: 0.8rem 1.8rem;
  border-radius: 12px;
  border: 2px solid var(--verde-oliva);
  background-color: var(--branco-quente);
  color: var(--verde-oliva);
  font-weight: 600;
  font-family: var(--fonte-texto);
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.carrossel-navegacao button:hover {
  background-color: var(--verde-oliva);
  color: var(--branco-quente);
  transform: translateY(-2px) scale(1.05);
  box-shadow: 0 6px 12px rgba(0,0,0,0.15);
}

.carrossel-navegacao button:active {
  transform: translateY(0) scale(0.98);
  box-shadow: 0 3px 6px rgba(0,0,0,0.1);
}
</style>

<script>
const mancheteTexto = document.getElementById("manchete-texto");
const botoesEnquadramento = document.querySelectorAll(".botoes-enquadramento button");
const explicacaoEnquadramento = document.getElementById("explicacao-enquadramento");
const prevBtn = document.getElementById("prev");
const nextBtn = document.getElementById("next");
const indicador = document.getElementById("indicador");

// Lista de manchetes com versões para cada enquadramento
const manchetes = [
  {
    tituloBase: "Autoridades investigam incidente ocorrido na cidade.",
    titulos: {
      neutra: "Autoridades investigam incidente ocorrido na cidade.",
      ambigua: "Autoridades investigam incidente preocupante na cidade: tensão cresce.",
      estigmatizante: "Comunidade local está sob suspeita após incidente inesperado.",
      desumanizacao: "Grupo é tratado como ameaça abstrata após incidente, apagando suas identidades."
    },
    explicacoes: {
      neutra: "O foco está nos fatos e na investigação, sem atribuir culpa, ameaça ou julgamento moral. A manchete transmite informação objetiva, permitindo ao leitor formar sua própria interpretação.",
      ambigua: "Sugere preocupação ou tensão sem indicar culpabilidade direta. O leitor é conduzido a sentir que algo pode estar errado, mesmo que não haja evidências claras de envolvimento de um grupo específico.",
      estigmatizante: "Um grupo é explicitamente destacado, criando associação entre o incidente e a identidade coletiva. Isso reforça estereótipos e preconceitos, tornando o leitor mais propenso a generalizações injustas.",
      desumanizacao: "O grupo é transformado em símbolo de ameaça, reduzindo indivíduos complexos a entidades abstratas. Essa abordagem elimina a humanidade e a diversidade do grupo, tornando-o objeto de medo ou controle social."
    },
    selecao: "neutra"
  },
  {
    tituloBase: "Grupo local organiza evento cultural.",
    titulos: {
      neutra: "Grupo local organiza evento cultural na cidade.",
      ambigua: "Evento cultural do grupo desperta curiosidade e questionamentos entre moradores.",
      estigmatizante: "Evento cultural do grupo provoca polêmica e críticas na comunidade.",
      desumanizacao: "Evento cultural é usado para reduzir o grupo a estereótipo, apagando vozes e histórias individuais."
    },
    explicacoes: {
      neutra: "A manchete relata o evento de forma factual, sem juízo moral ou interpretações implícitas. Permite que o leitor compreenda a ação sem associar atributos negativos ao grupo.",
      ambigua: "A manchete cria sensação de alerta ou estranhamento, sugerindo que o evento pode gerar consequências imprevistas, sem acusar ninguém diretamente.",
      estigmatizante: "Destaca o grupo como diferente ou problemático, reforçando preconceitos sociais. A atenção do leitor é direcionada para a identidade do grupo, não para o conteúdo do evento.",
      desumanizacao: "Transforma o grupo em um símbolo ou ameaça abstrata, apagando a diversidade, a agência e as experiências individuais. A narrativa passa a reduzir seres humanos a categorias simplificadas."
    },
    selecao: "neutra"
  },
  {
    tituloBase: "Incidente na escola envolve estudantes de diferentes religiões.",
    titulos: {
      neutra: "Incidente na escola envolve estudantes de diferentes religiões.",
      ambigua: "Incidente na escola provoca debates sobre diversidade religiosa e tensão social.",
      estigmatizante: "Estudantes de determinada religião são destacados como responsáveis pelo incidente.",
      desumanizacao: "Estudantes são reduzidos a símbolos de um grupo religioso, apagando suas identidades e histórias individuais."
    },
    explicacoes: {
      neutra: "O foco está no evento em si, sem generalizações sobre os estudantes. Permite ao leitor entender os fatos sem atribuir culpa ou criar medo.",
      ambigua: "Sugere tensão ou preocupação simbólica, fazendo o leitor questionar a convivência entre grupos religiosos sem acusar diretamente ninguém.",
      estigmatizante: "Dá destaque a um grupo específico, reforçando estereótipos e preconceitos. O leitor pode associar o incidente à identidade do grupo em vez das circunstâncias reais.",
      desumanizacao: "Reduz estudantes a representantes abstratos de um grupo religioso. As individualidades, histórias e experiências são apagadas, transformando-os em símbolos de ameaça ou problema social."
    },
    selecao: "neutra"
  }
];

let indiceAtual = 0;

// Função para atualizar manchete e explicação
function atualizarManchete() {
  const atual = manchetes[indiceAtual];
  mancheteTexto.innerText = atual.titulos[atual.selecao];
  explicacaoEnquadramento.innerText = atual.explicacoes[atual.selecao];

  botoesEnquadramento.forEach(btn => {
    btn.classList.remove("selecionado");
    if (btn.dataset.enquadramento === atual.selecao) {
      btn.classList.add("selecionado");
    }
  });

  indicador.innerText = `${indiceAtual + 1} / ${manchetes.length}`;
}

// Seleção de enquadramento — muda título e explicação
botoesEnquadramento.forEach(btn => {
  btn.addEventListener("click", () => {
    manchetes[indiceAtual].selecao = btn.dataset.enquadramento;
    atualizarManchete();
  });
});

// Navegação do carrossel com loop
prevBtn.addEventListener("click", () => {
  indiceAtual--;
  if (indiceAtual < 0) {
    indiceAtual = manchetes.length - 1; // volta para o último
  }
  atualizarManchete();
});

nextBtn.addEventListener("click", () => {
  indiceAtual++;
  if (indiceAtual >= manchetes.length) {
    indiceAtual = 0; // volta para o primeiro
  }
  atualizarManchete();
});

</script>
